<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns:wb="http://open.weibo.com/wb">
<head>
<title>Lucas Xu : blog, ideas, etc. </title>
<meta http-equiv="Content-type" content="text/html; charset=utf-8" />
<meta name="language" content="en" />
<link rel="stylesheet" type="text/css" href="/css/default.css" />
<link rel="stylesheet" type="text/css" href="/css/syntax.css" />
<meta property="wb:webmaster" content="85ada6b02f0f02d5" />
<script src="http://tjs.sjs.sinajs.cn/open/api/js/wb.js?appkey=4064321344" type="text/javascript" charset="utf-8"></script>

<!-- Google Analytics -->
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-32905076-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
</head>














<body>
<div class="page_margins">
  <div id="header">
    <h2><a href="http://xianminx.github.com">Lucas Xu   徐仙明</a></h2>
    <div class="clear"></div>

    <!-- begin: main navigation #nav -->
    <div id="nav">
      <div class="hlist">
        <ul>
          
          <li>
          <a href="/about/">About</a>
          </li>
          
          <li class="active">
          <a href="/">Blog</a>
          </li>
          
          <li>
          <a href="/archives/">Archives</a>
          </li>
          
          <li>
          <a href="/tags/">Categories</a>
          </li>
          
          <li>
          <a href="/other/">Other</a>
          </li>
          
          <li><a href="http://github.com/xianminx">Repositories</a></li>
        </ul>
      </div>
    </div>
    <!-- end: main navigation -->
  </div>

  <!-- begin: main content area #main -->
  <div id="main">
    <div id="col1">
      <div id="col1_content">
        
  <h3 class="excerpt"><a href="/2012/06/23/fancy-java-question/">一道很考验java功底的题目</a></h3>
  <p class="excerpt">
    
Lucas Xu


问题 Challenge: can you write code that invokes foo()?

1 class Impossible {
2    public Impossible() {
3        throw new AssertionError(&quot;you cannot instantiate me&quot;); 
4    }
5    public void foo() { 
6       System.out.println(&quot;The impossible is possible!&quot;); 
7   }
8 }



这是来自Android team 的几位工程师的博客。 众志成城， 他们想出了很多解法。大家发挥一下想象力，看是不是可以找到解法。
 &nbsp;
    <a href="/2012/06/23/fancy-java-question/" class="read-more">read more</a>
  </p>
  <small class="meta">
    23 Jun 2012
    
     | 
    <a href="/tags#java">java</a>
    
  </small>

  <h3 class="excerpt"><a href="/2012/06/23/android-account-manager/">Android Account Manager</a></h3>
  <p class="excerpt">
    Android系统本身提供了多用户账户的支持。 这里的多用户账户不是指操作系统中的用户，而是不同网络服务的账户， 如Google账户， Facebook账户， Twitter账户等。 对于android操作系统来讲，本身就是Linux系统，是一个支持多用户的系统。 每一个应用对应于一个process，运行时会有一个独立的UID， 也就对应于Linux中的用户。 开发者可以在adb下使用 ps 命令来查看。 如下，左边第一列就是运行对应应用的用户名. 可以看到， 对于安装的应用而言，每个应用都有自己独立的UID， 如com.baidu.input的UID为app_67 root 117 2 0 0 c01839a4 00000000 S ext4-dio-unwrit system 133 1 17020 4296 c052d258 400307b0 S /system/bin/servicemanager root 134 1 6040 996 ffffffff ffff0520 S /system/bin/vold system 138 1 64424 11408 ffffffff 400c17b0 S /system/bin/surfaceflinger root 139 1 445988 40160 ffffffff 4008d8d4 S zygote drm 140 1 18912 4340 ffffffff 400507b0 S /system/bin/drmserver media 141 1 49032 8836 ffffffff 400207b0 S /system/bin/mediaserver bluetooth 142 1 1368 820 c01fad68 ffff0520 S /system/bin/dbus-daemon root 143 1 5692 992 ffffffff 400ac578 S /system/bin/installd keystore 144 1 1764... &nbsp;
    <a href="/2012/06/23/android-account-manager/" class="read-more">read more</a>
  </p>
  <small class="meta">
    23 Jun 2012
    
     | 
    <a href="/tags#android">android</a>
    
  </small>

  <h3 class="excerpt"><a href="/2012/06/22/android-content-provider/">Android Content Provider</a></h3>
  <p class="excerpt">
    Lucas Xu ContactProvider Table ContactsContract.RawContacts | Column Name | example |description | |:-----------|:-----------|:------------:| |long _ID ||Row ID. Sync adapters should try to preserve row IDs during updates. In other words, it is much better for a sync adapter to update a raw contact rather than to delete and re-insert it. |CONTACT_ID || read-only The ID of the row in the ContactsContract.Contacts table that this raw contact belongs to. Raw contacts are linked to contacts by the aggregation process, which can be controlled by the AGGREGATION_MODE field and ContactsContract.AggregationExceptions. int AGGREGATION_MODE read/write A mechanism that allows programmatic control of the aggregation... &nbsp;
    <a href="/2012/06/22/android-content-provider/" class="read-more">read more</a>
  </p>
  <small class="meta">
    22 Jun 2012
    
     | 
    <a href="/tags#java">java</a>
    
  </small>

  <h3 class="excerpt"><a href="/2012/06/21/oauth/">OAuth 认证</a></h3>
  <p class="excerpt">
    
Lucas Xu


我们开发各种应用和网站是给用户用的， 用户登陆之后就会积攒各种各样的数据。 但是现在的世界被几个用户大户所统治了， 如google， facebook， tencent， 人人等 大平台。用户在不同平台上注册不同账户， 进行不同的登录。小网站或者应用也需要有自己的用户系统。 这给用户带来了极大的麻烦。同时不同用户平台之间共享数据也非常不方便。 记得原来开心网为了进行病毒营销找你要邮箱账户密码的痛苦吗？其实世界不需要这么混乱的。

假如如果有你只需要在一家网站注册，在其他网站都可用， 那怎么样，是不是感觉世界很美好？ 比如现实世界中的身份证， 只需要公安机关给你发一张， 你可以拿着去住宾馆， 也可以那个买菜刀和住院， 是不是方便很多。 这里， 公安机关是一个权威机构， 他出具的文件其他机构都会承认。 如果你的身份证丢了， 去公安机关开个证明，盖个戳也好使。 

网络情况下， 事情变得混乱了，因为没有公安机关。 不过人人也都可以充当公安机关， 你只要在我的系统中注册为我的用户， 我就可以帮你在别的地方认证。 
比如作为google的用户， Google可以帮你告诉Facebook说， 这个人是我的用户， 这是他的信息， 给你。 这样Facebook就可以从Google那里拿到你的信息。 这个过程中间有一些授权问题了。 

首先， google不能在你不知情的情况下把你的信息告诉Facebook， （谁知道私下里会怎么样， 不过表面上还是需要文明一些的）. 所以当Facebook想从google那里知道你的信息的时候， 一种方式是找你要在google那里的用户名和密码， 然后假冒你登陆google的系统，从而得到这些信息。 另外一种方式就是让你写个条子，“我授予Facebook访问我信息的权利”，然后签上你的大名，盖上你的戳，把条子交给Facebook， Facebook拿着这个条子去找Google， 说这是刘文彩同学给我的条子， 你看， 他授权我从你那儿访问他的数据了。 Google验证过签名之后发现是真的， 于是就让facebook把你的信息拿走了。 

在网络世界里，你当然不可能真的去写张条子交给facebook， 那该怎么办呢？
 &nbsp;
    <a href="/2012/06/21/oauth/" class="read-more">read more</a>
  </p>
  <small class="meta">
    21 Jun 2012
    
     | 
    <a href="/tags#java">java</a>
    
  </small>

  <h3 class="excerpt"><a href="/2012/06/18/Understanding-jvm/">Understanding the JVM Advanced Features and Best Practices</a></h3>
  <p class="excerpt">
    
Lucas Xu


读《深入理解Java 虚拟机 - JVM 高级特性与最佳实践》by 周志明

Java 作为技术体系包含多个部分：


Java 语言
Java 虚拟机
JDK, API 等


第一章 走进Java

关于OpenJDK 和JDK的关系请参考: http://en.wikipedia.org/wiki/OpenJDK

自己编译JDK


下载源码 　地址: http://download.java.net/openjdk/jdk7/
准备编译环境
编译

 &nbsp;
    <a href="/2012/06/18/Understanding-jvm/" class="read-more">read more</a>
  </p>
  <small class="meta">
    18 Jun 2012
    
     | 
    <a href="/tags#java">java</a>, 
    
    
    <a href="/tags#jvm">jvm</a>
    
  </small>


<div class="paging">
  
    <a href="/page4" class="older">Older Posts</a>
  

  
    <a href="/page2" class="newer">Newer Posts</a>
  


  <div class="clear"></div>
</div>

<!-- Google Analytics -->
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-32905076-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

      </div>
    </div>
    <div id="col3">
      <div id="col3_content">
        <h6 class="vlist">GitHub projects</h6>
        <ul class="vlist">
        	<li>
			<a href="https://github.com/xianminx/PullToRefresh-ListView" >PullToRefresh-ListView</a>
		</li>
	</ul>
        <h6 class="vlist">Misc. Links</h6>
        <ul class="vlist">
          <li>
            <a
              href="http://android-developers.blogspot.com/"
              ><img src="http://android-developers.blogspot.kr/favicon.ico"/>Android Developers Blog</a>
          </li>
          <li>
            <a
              href="http://saigeethamn.blogspot.com/"
              ><img src="https://www.blogger.com/img/logo-16.png"/> Sai Geetha's Android blog</a>
          </li>
          </ul>

<!-- AddThis Follow BEGIN -->
<h6 class="vlist">Follow Me</h6>
<br/>
<div class="addthis_toolbox addthis_32x32_style addthis_default_style">
<a class="addthis_button_google_follow" addthis:userid="101226668323584222394"></a>
<a class="addthis_button_facebook_follow" addthis:userid="xianminx"></a>
<a class="addthis_button_linkedin_follow" addthis:userid="xianminx"></a>
<a class="addthis_button_twitter_follow" addthis:userid="xianminx"></a>
</div>
<script type="text/javascript" src="http://s7.addthis.com/js/250/addthis_widget.js#pubid=ra-4fdf49b46dac2571"></script>
<!-- AddThis Follow END -->

<br/>

<iframe width="100%" height="550" class="share_self"  frameborder="0" scrolling="no" src="http://widget.weibo.com/weiboshow/index.php?language=&width=0&height=550&fansRow=1&ptype=1&speed=300&skin=1&isTitle=1&noborder=0&isWeibo=1&isFans=1&uid=2063991842&verifier=e0e8dc08&dpc=1"></iframe>


</div>
    </div>
    <div class="clear"></div>
  </div>
  <!-- end: #main -->

  <!-- begin: #footer -->
  <div id="footer">
    <div class="hlist">
      <ul>
        
        <li>
        <a href="/about/"
        
        >About</a>
         | 
        </li>
        
        <li class="active">
        <a href="/"
        
        >Blog</a>
         | 
        </li>
        
        <li>
        <a href="/archives/"
        
        >Archives</a>
         | 
        </li>
        
        <li>
        <a href="/tags/"
        
        >Categories</a>
         | 
        </li>
        
        <li>
        <a href="/other/"
        
        >Other</a>
        
        </li>
        
        <li>&ndash; updated 2012-07-07</li>
      </ul>
    </div>
  </div>
  <!-- end: #footer -->

</div>

</body>
</html>
