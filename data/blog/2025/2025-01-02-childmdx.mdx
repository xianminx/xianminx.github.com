---
title: MDX Using file based routing
date: 2024-01-02
authors: [Lucas]
summary: A demo to show using file based routing for mdx, just like regular app routing page.tsx in Next.js.
draft: true
tags: [markdown, github, gfm, mdx]
---

```tsx
import { default as ChildMDX, frontmatter as childFrontmatter } from './child.mdx'
```

## MDX Using file based routing

File based routing is a feature that allows you to create pages by placing files in the `app` directory.

For example, this page is located at `src/app/docs/file-based-routing/page.mdx`.

See more: [Using file based routing](https://nextjs.org/docs/app/building-your-application/configuring/mdx#using-file-based-routing)

### Import React Component

Just like you would do in a normal React component.

```tsx
import HelloMDX from './hello-mdx'
;<HelloMDX />
```

<p />

<HelloMDX />

### Import another MDX file

We can directly import the MDX file as a React component. Next.js use [remark-mdx-frontmatter](https://github.com/remcohaszing/remark-mdx-frontmatter) as the plugin to extract the frontmatter metadata from the MDX file.

Remember to add dependency to your `package.json` and add the plugin to `remarkPlugins` in `next.config.ts`.

```tsx
import { default as ChildMDX, frontmatter as childFrontmatter } from './child.mdx'
```

#### **childFrontmatter**

This is the frontmatter metadata of the child page.

```tsx
  <pre className="relative p-6 rounded-xl overflow-hidden bg-slate-100">
    {JSON.stringify(childFrontmatter, null, 2)}
  </pre>

  <p />

  <div className="relative p-6 rounded-xl overflow-hidden bg-slate-100">
    <ul className="list-inside list-disc space-y-2 pl-4">
      {Object.keys(childFrontmatter).map((key) => (
        <li className="text-gray-800 font-medium text-sm" key={key}>
          <span className="font-bold">{key}:</span> {childFrontmatter[key]}
        </li>
      ))}
    </ul>
  </div>
```

#### **Child page content**

> [!WARNING]
> This is to be fixed. ContentLayer2 does not support ChildMDX file yet.

```tsx
<div className="relative overflow-hidden rounded-xl bg-slate-100 p-6">{/* <ChildMDX /> */}</div>
```

> [!NOTE]
> The `remark-mdx-frontmatter` plugin, which is used to extract the frontmatter metadata from the MDX file, exports the metadata as `frontmatter`
> but it may conflict with the `frontmatter` in the current page. So we rename it to `childFrontmatter` to avoid conflict.
